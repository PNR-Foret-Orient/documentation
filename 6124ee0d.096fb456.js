(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{66:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return b}));var r=n(2),a=n(6),i=(n(0),n(85)),o=n(86),c={title:"Fonds de carte (mobile)",sidebar_label:"Fonds de carte"},s={unversionedId:"mobileCarte",id:"mobileCarte",isDocsHomePage:!1,title:"Fonds de carte (mobile)",description:"Fonds de carte",source:"@site/docs/mobileCarte.md",slug:"/mobileCarte",permalink:"/documentation/mobileCarte",editUrl:"https://github.com/PNR-Foret-Orient/documentation/edit/master/docs/mobileCarte.md",version:"current",sidebar_label:"Fonds de carte",sidebar:"sidebar",previous:{title:"GeoNature Mobile",permalink:"/documentation/mobileApercu"},next:{title:"LPO",permalink:"/documentation/partenairesLPO"}},l=[{value:"Fonds de carte",id:"fonds-de-carte",children:[]},{value:"Cr\xe9er un fichier MBTiles",id:"cr\xe9er-un-fichier-mbtiles",children:[]},{value:"Installer un fond de carte",id:"installer-un-fond-de-carte",children:[]}],u={rightToc:l};function b(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"fonds-de-carte"},"Fonds de carte"),Object(i.b)("p",null,"Par d\xe9faut, l'application ne fournit pas les fonds de carte. Pour les ajouter, il faut les cr\xe9er et puis les ajouter sur le terminal mobile vous-m\xeame. Les param\xe8tres de l'application vous indiquent les chemins n\xe9cessaires de la m\xe9moire interne et la carte externe (si disponible)."),Object(i.b)("p",null,"Vous devez \xe9galement pr\xe9ciser les fonds et les couches cartographiques (si besoin) dans les fichiers de configuration, qui se trouvent sur le serveur SIG."),Object(i.b)("p",null,"Pour en savoir plus, veuillez vous rendre sur ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/PnX-SI/gn_mobile_occtax/blob/master/docs/installation-fr.md#installer-et-configurer-les-applications"}),"la documentation officielle"),"."),Object(i.b)("img",{alt:"Capture d'\xe9cran d'une carte sur l'appli",src:Object(o.a)("img/docs/mobileCarte1.png"),className:"mobile"}),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Exemple d'un fond de carte sur 'OccTax'")),Object(i.b)("h2",{id:"cr\xe9er-un-fichier-mbtiles"},"Cr\xe9er un fichier MBTiles"),Object(i.b)("p",null,"De nombreux formats peuvent \xeatre utilis\xe9s comme fond de carte. MBTiles est une option assez typique. Il y a beaucoup d'options pour cr\xe9er un fichier MBTiles, mais une option simple est d'utiliser un outil int\xe9gr\xe9 dans QGIS."),Object(i.b)("p",null,"Voil\xe0 une capture d'\xe9cran de l'outil :"),Object(i.b)("img",{alt:"QGIS \xab Generate XYZ Tiles \xbb ",src:Object(o.a)("img/docs/mobileCarte2.png"),className:"tablet"}),Object(i.b)("p",null,"Il y a un enregistrement d'\xe9cran disponible dans Google Drive qui peut vous montre le fonctionnement de cet outil."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Renseignez-vous de la configuration des applis mobiles pour assurer que vous avez cr\xe9\xe9 un fichier MBTiles qui correspond aux niveaux de zoom minimum et maximum ."))),Object(i.b)("h2",{id:"installer-un-fond-de-carte"},"Installer un fond de carte"),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Il y a un enregistrement d'\xe9cran de ce processus dans Google Drive."))),Object(i.b)("p",null,"Tout d'abord vous devez faire les changements n\xe9cessaires dans le fichier ",Object(i.b)("inlineCode",{parentName:"p"},"occtax/settings.json")," qui se trouve sur ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/PNR-Foret-Orient/mobile-configuration"}),"GitHub"),". En cette occasion, c'est probable que vous voulez ajouter ou modifier les couches (\xab layers \xbb) :"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-json",metastring:'title="occtax/settings.json"',title:'"occtax/settings.json"'}),'  \u2026\n  "layers": [\n    {\n      "label": "PnrFO",\n      "source": "pnrfo.mbtiles"\n    }\n  ],\n  \u2026\n')),Object(i.b)("p",null,"Mettre \xe0 jour ces changements sur le serveur avec ",Object(i.b)("inlineCode",{parentName:"p"},"git pull")," et ",Object(i.b)("inlineCode",{parentName:"p"},"sudo supervisorctl restart atlas"),"."),Object(i.b)("p",null,"Ensuite, le fichier ",Object(i.b)("inlineCode",{parentName:"p"},".mbtiles")," doit \xeatre transf\xe9r\xe9 vers le terminal mobile."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Si vous avez une carte SD : ",Object(i.b)("inlineCode",{parentName:"li"},"<carte sd>/Android/data/fr.geonature.occtax/files/")),Object(i.b)("li",{parentName:"ul"},"Sinon : ",Object(i.b)("inlineCode",{parentName:"li"},"<m\xe9moire interne>/Android/data/fr.geonature.occtax/files/"))),Object(i.b)("img",{alt:"Capture d'\xe9cran d'Android File Transfer",src:Object(o.a)("img/docs/mobileCarte3.png"),className:"tablet"}),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Android File Transfer")))}b.isMDXComponent=!0},84:function(e,t,n){"use strict";var r=n(0),a=n(20);t.a=function(){var e=Object(r.useContext)(a.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},p=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=u(n),p=r,m=b["".concat(o,".").concat(p)]||b[p]||d[p]||i;return n?a.a.createElement(m,c(c({ref:t},l),{},{components:n})):a.a.createElement(m,c({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=n[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(84),a=n(87);function i(){var e=Object(r.a)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var i=void 0===r?{}:r,o=i.forcePrependBaseUrl,c=void 0!==o&&o,s=i.absolute,l=void 0!==s&&s;if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(c)return t+n;var u=n.startsWith(t)?n:t+n.replace(/^\//,"");return l?e+u:u}(i,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},87:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))}}]);